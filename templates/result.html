{% extends "base.html" %}

{% block title %}Analysis Result - Crop Information System{% endblock %}

{% block content %}
<div class="result-container">
    <div class="result-header">
        <h1>🎯 Analysis Complete</h1>
        <p>Here are the results for your crop image analysis</p>
    </div>
    
    <div class="result-content">
        <div class="result-image">
            <div class="image-card">
                <img src="{{ url_for('static', filename='uploads/' + prediction.image_path) }}" alt="Analyzed crop image">
                <div class="image-info">
                    <div class="prediction-badge">
                        <span class="confidence">{{ "%.1f"|format(prediction.confidence * 100) }}% Confidence</span>
                    </div>
                    <p class="analysis-date">Analyzed on {{ prediction.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>
                </div>
            </div>
        </div>
        
        <div class="result-details">
            <div class="crop-identification">
                <h2>🌱 Identified Crop</h2>
                <div class="crop-name">
                    <h3>{{ prediction.crop_name }}</h3>
                    {% if crop_info %}
                        <p class="scientific-name">{{ crop_info[1] }}</p>
                    {% endif %}
                </div>
            </div>
            
            {% if crop_info %}
            <div class="crop-info-grid">
    <div class="info-card">
        <div class="info-icon">⏳</div>
        <h4>Duration of growth</h4>
        <p>{{ crop_info[4] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">🌱</div>
        <h4>Soil Requirement</h4>
        <p>{{ crop_info[3] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">💧</div>
        <h4>Water Requirements</h4>
        <p>{{ crop_info[2] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">🌡️</div>
        <h4>Temperature Tolerance</h4>
        <p>{{ crop_info[5] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">🌸</div>
        <h4>Pollination</h4>
        <p>{{ crop_info[6] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">🌾</div>
        <h4>Yield Potential</h4>
        <p>{{ crop_info[7] }}</p>
    </div>
    
    <div class="info-card">
        <div class="info-icon">📦</div>
        <h4>Use</h4>
        <p>{{ crop_info[8] }}</p>
    </div>
</div>

            {% else %}
            <div class="no-info-message">
                <p>🔍 Detailed information for this crop is not available in our database yet.</p>
            </div>
            {% endif %}
        </div>
    </div>
    
    <div class="result-actions">
        <a href="{{ url_for('upload') }}" class="btn btn-primary">
            📸 Analyze Another Image
        </a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">
            🏠 Back to Home
        </a>
    </div>
</div>
{% endblock %}